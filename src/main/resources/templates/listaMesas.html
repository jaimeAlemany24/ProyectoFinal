<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Martillo Andaluz - Panel de Control</title>
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js}"></script>
    <link th:href="@{estilos.css}" rel="stylesheet" />
</head>
<body>
    <!-- Barra de navegación -->
    <div th:insert="fragmentos/header :: header"></div>

	<div class="container mt-4">
	        <h1 class="mb-4">Gestión de Mesas</h1>
	        
	        <!-- Botón para añadir nueva mesa -->
	        <a th:href="@{/mesas/nueva}" class="btn btn-primary mb-3">
	            <i class="bi bi-plus-circle"></i> Añadir Nueva Mesa
	        </a>
	        
	        <!-- Listado de mesas -->
	        <div class="row">
	            <div th:each="mesa : ${mesas}" class="col-md-4 mb-4">
	                <div class="card">
	                    <div class="card-body">
	                        <h5 class="card-title" th:text="'Mesa ' + ${mesa.id_mesa}"></h5>
	                        <p class="card-text">
	                            <strong>Escenografía:</strong> <span th:text="${mesa.tieneEsceno} ? 'SÍ' : 'NO'"></span><br>
	                            <strong>Precio:</strong> <span th:text="${mesa.precioBase}"></span><br>
	                        </p>
	                        <div class="d-flex justify-content-between">
	                            <a th:href="@{/mesas/editar/} + ${mesa.id_mesa}" class="btn btn-sm btn-warning">
	                                <i class="bi bi-pencil"></i> Editar
	                            </a>
	                            <a th:href="@{/mesas/eliminar/} + ${mesa.id_mesa}" class="btn btn-sm btn-danger" 
	                               onclick="return confirm('¿Estás seguro de eliminar esta mesa?');">
	                                <i class="bi bi-trash"></i> Eliminar
	                            </a>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </div>
	      
    <!-- Footer -->
	<div th:insert="fragmentos/footer :: footer"></div>

</body>
</html>
